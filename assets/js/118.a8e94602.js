(window.webpackJsonp=window.webpackJsonp||[]).push([[118],{473:function(t,e,i){"use strict";i.r(e);var a=i(8),r=Object(a.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("p",[t._v("本文提供了利用 "),e("code",[t._v("GitHub Actions")]),t._v(" 完成自动部署的方法，我们只需要推送代码到仓库，剩下的交给 "),e("code",[t._v("ci")]),t._v(" 持续继承就好了。")]),t._v(" "),e("h1",{attrs:{id:"编写任务脚本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#编写任务脚本"}},[t._v("#")]),t._v(" 编写任务脚本")]),t._v(" "),e("p",[t._v("本质上，还是自动触发执行脚本，所以我们先写好脚本 "),e("code",[t._v("deploy.sh")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/terwer/upload/img/image-20220417120250870.png",alt:"image-20220417120250870"}})]),t._v(" "),e("p",[t._v("配置GitHub Actions")]),t._v(" "),e("p",[t._v("我们只需要在git仓库根目录创建一个 "),e("code",[t._v(".github")]),t._v(" 文件夹，在新建一个workflows文件夹，然后新建一个yml文件，GitHub会自动把yml文件当成ci任务。")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/terwer/upload/img/image-20220417113906034.png",alt:"image-20220417113906034"}})]),t._v(" "),e("p",[t._v("ci.yml内容如下：")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/terwer/upload/img/image-20220417120214679.png",alt:"image-20220417120214679"}})]),t._v(" "),e("p",[t._v("可以看到，我们实际上是自动调用了上面的脚本实现。")]),t._v(" "),e("p",[t._v("但是这里会有一个问题要注意，就是 "),e("code",[t._v("GITHUB_TOKEN")]),t._v(" 这个变量，这个是自动生成的。")]),t._v(" "),e("p",[t._v("我们使用了"),e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/terwer/upload/img/image-20220417120427425.png",alt:"image-20220417120427425"}}),t._v("去访问它，那么我们需要需先配置。")]),t._v(" "),e("h1",{attrs:{id:"配置github-token"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置github-token"}},[t._v("#")]),t._v(" 配置GITHUB_TOKEN")]),t._v(" "),e("p",[t._v("打开项目的Settings，将token加进去即可，注意key值要保持一致")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/terwer/upload/img/image-20220417114442871.png",alt:"image-20220417114442871"}})]),t._v(" "),e("p",[t._v("value就是用户自定义令牌，可以在个人设置里面开发者设置里面生成。")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/terwer/upload/img/image-20220417114607178.png",alt:"image-20220417114607178"}})]),t._v(" "),e("p",[t._v("这样就ok了。")])])}),[],!1,null,null,null);e.default=r.exports}}]);