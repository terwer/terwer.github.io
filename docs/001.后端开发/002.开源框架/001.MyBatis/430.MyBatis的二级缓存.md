---
title: MyBatis的二级缓存
date: 2022-09-24 22:38:54
permalink: /post/mybatis-s-secondary-cache-z2ssaab.html
meta:
  - name: keywords
    content: 测试 二级缓存
  - name: description
    content: >-
      二级缓存的原理二级缓存的原理和一级缓存一样第一次查询会将数据放到缓存中然后第二次查询直接去缓存读取。但是一级缓存是基于sqlsession的二级缓存是基于mapper的namespace的。也就是说多个sqlsession可以共享同一个二级缓存区域。如果两个mapper的namespace相同那么即使是两个mapper这两个mapper执行sql查询的数据也将保存在相同的二级缓存区域中。​如何使用二级缓存注意_user需要实现序列化接口。
categories:
  - 默认分类
tags:
  - 测试
  - 二级缓存
author:
  name: terwer
  link: https://github.com/terwer
---


## 二级缓存的原理

二级缓存的原理和一级缓存一样，第一次查询会将数据放到缓存中，然后第二次查询直接去缓存读取。

但是一级缓存是基于 SqlSession 的，二级缓存是基于 mapper 的 namespace 的。

也就是说，多个 SqlSession 可以共享同一个二级缓存区域。如果两个 mapper 的 namespace 相同，那么即使是两个 mapper，这两个 mapper 执行 sql 查询的数据也将保存在相同的二级缓存区域中。

![](https://img1.terwer.space/api/public/20220929000423.png)​

## 如何使用二级缓存

注意：User需要实现序列化接口。
